# Open WebUI values for AI Security Platform
# Based on ADR-010: AI Chat Interface

# Ollama connection (internal service)
ollamaUrls:
  - "http://ollama.ai-inference.svc:11434"

# Disable bundled Ollama (we have our own)
ollama:
  enabled: false

# PostgreSQL (external - CNPG)
postgresql:
  enabled: false

# Ingress via Traefik with TLS
ingress:
  enabled: true
  class: traefik
  annotations:
    cert-manager.io/cluster-issuer: ai-platform-ca-issuer
  host: chat.ai-platform.localhost
  tls: true

# Persistence for uploads
persistence:
  enabled: true
  size: 5Gi
  storageClass: local-path

# Resources
resources:
  requests:
    memory: "256Mi"
    cpu: "100m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# Environment
extraEnvVars:
  - name: WEBUI_NAME
    value: "AI Security Platform"
  - name: ENABLE_SIGNUP
    value: "true"
  - name: DEFAULT_MODELS
    value: "mistral:7b-instruct-v0.3-q4_K_M"
  - name: DATABASE_URL
    value: "postgresql://openwebui:openwebui123@postgresql-cluster-rw.storage.svc:5432/openwebui"
