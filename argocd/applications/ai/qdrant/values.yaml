# =============================================================================
# Qdrant Helm Values - AI Security Platform
# =============================================================================
# Vector database for RAG pipeline
# Chart: https://github.com/qdrant/qdrant-helm
# =============================================================================

# -----------------------------------------------------------------------------
# Replica Configuration
# -----------------------------------------------------------------------------
replicaCount: 1

# -----------------------------------------------------------------------------
# Resource Limits (as per ADR-006)
# -----------------------------------------------------------------------------
resources:
  requests:
    memory: "256Mi"
    cpu: "100m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# -----------------------------------------------------------------------------
# Persistence
# -----------------------------------------------------------------------------
persistence:
  enabled: true
  size: 5Gi
  storageClass: "local-path"
  accessModes:
    - ReadWriteOnce

# -----------------------------------------------------------------------------
# API Key Authentication
# -----------------------------------------------------------------------------
apiKey: true

# -----------------------------------------------------------------------------
# Qdrant Configuration
# -----------------------------------------------------------------------------
config:
  log_level: INFO
  cluster:
    enabled: false

# -----------------------------------------------------------------------------
# Service Configuration
# -----------------------------------------------------------------------------
service:
  type: ClusterIP

# -----------------------------------------------------------------------------
# Ingress - REST API
# -----------------------------------------------------------------------------
ingress:
  enabled: true
  ingressClassName: "traefik"
  annotations:
    cert-manager.io/cluster-issuer: "ai-platform-ca-issuer"
    traefik.ingress.kubernetes.io/router.tls: "true"
  hosts:
    - host: qdrant.ai-platform.localhost
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: qdrant-tls
      hosts:
        - qdrant.ai-platform.localhost

# -----------------------------------------------------------------------------
# Probes
# -----------------------------------------------------------------------------
livenessProbe:
  enabled: true
  initialDelaySeconds: 30

readinessProbe:
  enabled: true
  initialDelaySeconds: 10

# -----------------------------------------------------------------------------
# Metrics (for Prometheus - enable later)
# -----------------------------------------------------------------------------
metrics:
  serviceMonitor:
    enabled: false
