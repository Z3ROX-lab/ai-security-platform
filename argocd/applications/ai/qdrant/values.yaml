# =============================================================================
# Qdrant Helm Values - AI Security Platform
# =============================================================================
# Vector database for RAG pipeline
# Chart: https://github.com/qdrant/qdrant-helm
# =============================================================================

replicaCount: 1

resources:
  requests:
    memory: "256Mi"
    cpu: "100m"
  limits:
    memory: "512Mi"
    cpu: "500m"

persistence:
  enabled: true
  size: 5Gi
  storageClass: "local-path"

apiKey: true

config:
  log_level: INFO
  cluster:
    enabled: false

# Ingress with correct backend port specification
ingress:
  enabled: true
  ingressClassName: "traefik"
  annotations:
    cert-manager.io/cluster-issuer: "ai-platform-ca-issuer"
    traefik.ingress.kubernetes.io/router.tls: "true"
  hosts:
    - host: qdrant.ai-platform.localhost
      paths:
        - path: /
          pathType: Prefix
          servicePort: 6333
  tls:
    - secretName: qdrant-tls
      hosts:
        - qdrant.ai-platform.localhost

livenessProbe:
  enabled: true
  initialDelaySeconds: 30

readinessProbe:
  enabled: true
  initialDelaySeconds: 10

metrics:
  serviceMonitor:
    enabled: false
