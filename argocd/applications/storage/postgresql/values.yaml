# PostgreSQL Cluster values for AI Security Platform (Home Lab)
# Chart: https://cloudnative-pg.github.io/charts/cluster
# Uses CloudNativePG operator (CNCF project)

# Cluster name
name: postgresql

# Single instance for home lab (no HA)
instances: 1

# Image - official CloudNativePG PostgreSQL
imageName: ghcr.io/cloudnative-pg/postgresql:16

# Storage configuration
storage:
  size: 5Gi
  storageClass: local-path

# Resources for home lab
resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi

# Bootstrap configuration - create initial databases
bootstrap:
  initdb:
    database: appdb
    owner: appuser
    postInitSQL:
      - CREATE DATABASE keycloak
      - CREATE DATABASE mlflow

# Monitoring (disable for now, enable in Phase 10)
monitoring:
  enabled: false
