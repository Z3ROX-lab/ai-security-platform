# SeaweedFS values for AI Security Platform (Home Lab)
# Bitnami Helm chart with official SeaweedFS image
# S3-compatible object storage for ML artifacts, models, datasets

# Override images to use official SeaweedFS (Bitnami images not available)
image:
  registry: docker.io
  repository: chrislusf/seaweedfs
  tag: "3.77"
  pullPolicy: IfNotPresent

# Global settings
global:
  storageClass: local-path

# Master server - manages volume servers
master:
  replicaCount: 1
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 50m
      memory: 128Mi
  persistence:
    enabled: true
    size: 1Gi
    storageClass: local-path

# Volume server - stores actual data
volume:
  replicaCount: 1
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 256Mi
  persistence:
    enabled: true
    size: 10Gi
    storageClass: local-path

# Filer - provides S3 API and file system interface
filer:
  replicaCount: 1
  resources:
    limits:
      cpu: 300m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 256Mi
  persistence:
    enabled: true
    size: 2Gi
    storageClass: local-path

# S3 API Gateway
s3:
  enabled: true
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 50m
      memory: 128Mi

# Disable MariaDB (use embedded leveldb for filer metadata)
mariadb:
  enabled: false

# Security context
podSecurityContext:
  enabled: true
  fsGroup: 1001

containerSecurityContext:
  enabled: true
  runAsUser: 1001
  runAsNonRoot: true
